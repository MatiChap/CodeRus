<script>
    window.addEventListener('load', function(){
        
         
        let cart = []
       
        let addButton = document.querySelectorAll('#devAdd');
        
        addButton.forEach((button)=>{
            let id = button.value
            if(cart.some(e => e.id === id)){
                button.style.backgroundColor = '#e600002e';
                button.innerHTML = '<i class="fas fa-times"></i> Remove from cart'
            }

        });

        addButton.forEach(button => 
        button.addEventListener('click',function(e){
            let id = button.value
            
            // let profileDev = document.querySelector('#profileDev' + id)
             let name = document.querySelector('#devName' + id).innerText

             let picture = document.querySelector('#devPic' + id).src;
            // console.log(profileDev)

             let dev = { 
                 id : id,
                 name : name,
                 picture: picture

             }

            
            
            if(cart.some(e => e.id === dev.id)){
                cart = cart.filter(e => e.id !== id);
                localStorage.setItem('cart', JSON.stringify(cart));
                console.log('Deleted ' + name);
                console.log(localStorage.getItem('cart'));
                console.log(cart);
                button.style.backgroundColor = "#deda6f";
                button.innerHTML = '<i class="fas fa-user-check"></i> Add to cart '
                
            }else{
                cart.push(dev);
                localStorage.setItem('cart', JSON.stringify(cart));
                console.log(localStorage.getItem('cart'));
                console.log(cart);
                button.style.backgroundColor = '#e600002e';
                button.innerHTML = '<i class="fas fa-times"></i> Remove from cart'
            }
           
            
            
        }))
        
    })
    
    </script>